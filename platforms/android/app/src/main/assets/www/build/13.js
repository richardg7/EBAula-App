webpackJsonp([13],{1856:function(l,n,t){"use strict";function e(l){return p._42(0,[(l()(),p._16(0,0,null,null,5,"button",[["icon-only",""],["ion-button",""]],null,[[null,"click"]],function(l,n,t){var e=!0;if("click"===n){e=!1!==l.component.showChatUsers()&&e}return e},F.b,F.a)),p._15(1,1097728,[[2,4]],0,V.a,[[8,""],j.a,p.p,p.K],null,null),(l()(),p._40(-1,0,["\n                "])),(l()(),p._16(3,0,null,0,1,"ion-icon",[["name","people"],["role","img"]],[[2,"hide",null]],null,null,null,null)),p._15(4,147456,null,0,N.a,[j.a,p.p,p.K],{name:[0,"name"]},null),(l()(),p._40(-1,0,["\n            "]))],function(l,n){l(n,4,0,"people")},function(l,n){l(n,3,0,p._29(n,4)._hidden)})}function u(l){return p._42(0,[(l()(),p._16(0,0,null,null,9,"div",[["class","addon-mod-chat-notice"],["text-center",""]],null,null,null,null,null)),(l()(),p._40(-1,null,["\n                    "])),(l()(),p._16(2,0,null,null,6,"ion-badge",[["color","light"],["text-wrap",""]],null,null,null,null,null)),p._15(3,16384,null,0,q.a,[j.a,p.p,p.K],{color:[0,"color"]},null),(l()(),p._40(-1,null,["\n                        "])),(l()(),p._16(5,0,null,null,2,"span",[],null,null,null,null,null)),(l()(),p._40(6,null,["",""])),p._34(7,2),(l()(),p._40(-1,null,["\n                    "])),(l()(),p._40(-1,null,["\n                "]))],function(l,n){l(n,3,0,"light")},function(l,n){l(n,6,0,p._41(n,6,0,l(n,7,0,p._29(n.parent.parent,0),1e3*n.parent.context.$implicit.timestamp,"strftimedayshort")))})}function o(l){return p._42(0,[(l()(),p._16(0,0,null,null,11,"div",[["class","addon-mod-chat-notice"],["text-center",""]],null,null,null,null,null)),(l()(),p._40(-1,null,["\n                    "])),(l()(),p._16(2,0,null,null,8,"ion-badge",[["color","light"],["text-wrap",""]],null,null,null,null,null)),p._15(3,16384,null,0,q.a,[j.a,p.p,p.K],{color:[0,"color"]},null),(l()(),p._40(-1,null,["\n                        "])),(l()(),p._16(5,0,null,null,4,"span",[],null,null,null,null,null)),(l()(),p._40(6,null,[""," ",""])),p._34(7,2),p._33(8,{$a:0}),p._32(131072,G.a,[J.a,p.i]),(l()(),p._40(-1,null,["\n                    "])),(l()(),p._40(-1,null,["\n                "]))],function(l,n){l(n,3,0,"light")},function(l,n){l(n,6,0,p._41(n,6,0,l(n,7,0,p._29(n.parent.parent,0),1e3*n.parent.context.$implicit.timestamp,"strftimetime")),p._41(n,6,1,p._29(n,9).transform("addon.mod_chat.messageenter",l(n,8,0,n.parent.context.$implicit.userfullname))))})}function a(l){return p._42(0,[(l()(),p._16(0,0,null,null,11,"div",[["class","addon-mod-chat-notice"],["text-center",""]],null,null,null,null,null)),(l()(),p._40(-1,null,["\n                    "])),(l()(),p._16(2,0,null,null,8,"ion-badge",[["color","light"],["text-wrap",""]],null,null,null,null,null)),p._15(3,16384,null,0,q.a,[j.a,p.p,p.K],{color:[0,"color"]},null),(l()(),p._40(-1,null,["\n                        "])),(l()(),p._16(5,0,null,null,4,"span",[],null,null,null,null,null)),(l()(),p._40(6,null,[""," ",""])),p._34(7,2),p._33(8,{$a:0}),p._32(131072,G.a,[J.a,p.i]),(l()(),p._40(-1,null,["\n                    "])),(l()(),p._40(-1,null,["\n                "]))],function(l,n){l(n,3,0,"light")},function(l,n){l(n,6,0,p._41(n,6,0,l(n,7,0,p._29(n.parent.parent,0),1e3*n.parent.context.$implicit.timestamp,"strftimetime")),p._41(n,6,1,p._29(n,9).transform("addon.mod_chat.messageexit",l(n,8,0,n.parent.context.$implicit.userfullname))))})}function i(l){return p._42(0,[(l()(),p._16(0,0,null,null,10,"div",[["class","addon-mod-chat-notice"],["text-center",""]],null,null,null,null,null)),(l()(),p._40(-1,null,["\n                    "])),(l()(),p._16(2,0,null,null,7,"ion-badge",[["color","light"],["text-wrap",""]],null,null,null,null,null)),p._15(3,16384,null,0,q.a,[j.a,p.p,p.K],{color:[0,"color"]},null),(l()(),p._40(-1,null,["\n                        "])),(l()(),p._16(5,0,null,null,3,"span",[],null,null,null,null,null)),(l()(),p._40(6,null,["",""])),p._33(7,{$a:0}),p._32(131072,G.a,[J.a,p.i]),(l()(),p._40(-1,null,["\n                    "])),(l()(),p._40(-1,null,["\n                "]))],function(l,n){l(n,3,0,"light")},function(l,n){l(n,6,0,p._41(n,6,0,p._29(n,8).transform("addon.mod_chat.messagebeepsyou",l(n,7,0,n.parent.context.$implicit.userfullname))))})}function s(l){return p._42(0,[(l()(),p._16(0,0,null,null,23,"ion-item",[["class","addon-mod-chat-message item item-block"],["text-wrap",""]],null,null,null,Y.b,Y.a)),p._15(1,1097728,null,3,Q.a,[X.a,j.a,p.p,p.K,[2,Z.a]],null,null),p._37(335544320,3,{contentLabel:0}),p._37(603979776,4,{_buttons:1}),p._37(603979776,5,{_icons:1}),p._15(5,16384,null,0,ll.a,[],null,null),(l()(),p._40(-1,2,["\n                    "])),(l()(),p._16(7,0,null,0,2,"ion-avatar",[["core-user-avatar",""],["item-start",""]],null,null,null,nl.b,nl.a)),p._15(8,770048,null,0,tl.a,[el.a,I.a,ul.a,C.a,x.a],{user:[0,"user"]},null),p._15(9,16384,null,0,ol.a,[],null,null),(l()(),p._40(-1,2,["\n                    "])),(l()(),p._16(11,0,null,2,8,"h2",[],null,null,null,null,null)),(l()(),p._40(-1,null,["\n                        "])),(l()(),p._16(13,0,null,null,2,"p",[["float-end",""]],null,null,null,null,null)),(l()(),p._40(14,null,["",""])),p._34(15,2),(l()(),p._40(-1,null,["\n                        "])),(l()(),p._16(17,0,null,null,1,"core-format-text",[],null,null,null,null,null)),p._15(18,540672,null,0,al.a,[p.p,I.a,w.a,k.a,J.a,il.a,ul.a,sl.a,y.a,rl.a,C.a,cl.a,[2,el.a],[2,_l.a],[2,dl.a],gl.a,x.a],{text:[0,"text"]},null),(l()(),p._40(-1,null,["\n                    "])),(l()(),p._40(-1,2,["\n                    "])),(l()(),p._16(21,0,null,2,1,"core-format-text",[],null,[[null,"afterRender"]],function(l,n,t){var e=!0;if("afterRender"===n){e=!1!==(l.parent.context.last&&l.component.scrollToBottom())&&e}return e},null,null)),p._15(22,540672,null,0,al.a,[p.p,I.a,w.a,k.a,J.a,il.a,ul.a,sl.a,y.a,rl.a,C.a,cl.a,[2,el.a],[2,_l.a],[2,dl.a],gl.a,x.a],{text:[0,"text"]},{afterRender:"afterRender"}),(l()(),p._40(-1,2,["\n                "]))],function(l,n){l(n,8,0,n.parent.context.$implicit);l(n,18,0,n.parent.context.$implicit.userfullname);l(n,22,0,n.parent.context.$implicit.message)},function(l,n){l(n,14,0,p._41(n,14,0,l(n,15,0,p._29(n.parent.parent,0),1e3*n.parent.context.$implicit.timestamp,"strftimetime")))})}function r(l){return p._42(0,[(l()(),p._16(0,0,null,null,16,"div",[],null,null,null,null,null)),(l()(),p._40(-1,null,["\n\n                "])),(l()(),p._11(16777216,null,null,1,null,u)),p._15(3,16384,null,0,hl.k,[p.W,p.T],{ngIf:[0,"ngIf"]},null),(l()(),p._40(-1,null,["\n\n                "])),(l()(),p._11(16777216,null,null,1,null,o)),p._15(6,16384,null,0,hl.k,[p.W,p.T],{ngIf:[0,"ngIf"]},null),(l()(),p._40(-1,null,["\n\n                "])),(l()(),p._11(16777216,null,null,1,null,a)),p._15(9,16384,null,0,hl.k,[p.W,p.T],{ngIf:[0,"ngIf"]},null),(l()(),p._40(-1,null,["\n\n                "])),(l()(),p._11(16777216,null,null,1,null,i)),p._15(12,16384,null,0,hl.k,[p.W,p.T],{ngIf:[0,"ngIf"]},null),(l()(),p._40(-1,null,["\n\n                "])),(l()(),p._11(16777216,null,null,1,null,s)),p._15(15,16384,null,0,hl.k,[p.W,p.T],{ngIf:[0,"ngIf"]},null),(l()(),p._40(-1,null,["\n            "]))],function(l,n){var t=n.component;l(n,3,0,t.showDate(t.messages[n.context.index],t.messages[n.context.index-1]));l(n,6,0,n.context.$implicit.system&&"enter"==n.context.$implicit.message);l(n,9,0,n.context.$implicit.system&&"exit"==n.context.$implicit.message);l(n,12,0,n.context.$implicit.message==t.currentUserBeep);l(n,15,0,!n.context.$implicit.system&&"beep"!=n.context.$implicit.message.substr(0,4))},null)}function c(l){return p._42(0,[(l()(),p._16(0,0,null,null,5,"div",[["margin",""],["text-center",""]],null,null,null,null,null)),(l()(),p._40(-1,null,["\n                "])),(l()(),p._16(2,0,null,null,2,"p",[],null,null,null,null,null)),(l()(),p._40(3,null,["",""])),p._32(131072,G.a,[J.a,p.i]),(l()(),p._40(-1,null,["\n            "]))],null,function(l,n){l(n,3,0,p._41(n,3,0,p._29(n,4).transform("addon.mod_chat.nomessages")))})}function _(l){return p._42(0,[(l()(),p._16(0,0,null,null,2,"p",[["text-center",""]],null,null,null,null,null)),(l()(),p._40(1,null,["",""])),p._32(131072,G.a,[J.a,p.i])],null,function(l,n){l(n,1,0,p._41(n,1,0,p._29(n,2).transform("addon.mod_chat.mustbeonlinetosendmessages")))})}function d(l){return p._42(0,[(l()(),p._16(0,0,null,null,2,"core-send-message-form",[],null,[[null,"onSubmit"],[null,"onResize"]],function(l,n,t){var e=!0,u=l.component;if("onSubmit"===n){e=!1!==u.sendMessage(t)&&e}if("onResize"===n){e=!1!==u.resizeContent()&&e}return e},pl.b,pl.a)),p._15(1,114688,null,0,ml.a,[ul.a,k.a],{message:[0,"message"],placeholder:[1,"placeholder"],showKeyboard:[2,"showKeyboard"]},{onSubmit:"onSubmit",onResize:"onResize"}),p._32(131072,G.a,[J.a,p.i])],function(l,n){var t=n.component;l(n,1,0,t.newMessage,p._41(n,1,1,p._29(n,2).transform("addon.messages.newmessage")),t.showKeyboard)},null)}function g(l){return p._42(0,[(l()(),p._16(0,0,null,null,3,"button",[["block",""],["color","light"],["ion-button",""]],null,[[null,"click"]],function(l,n,t){var e=!0;if("click"===n){e=!1!==l.component.reconnect()&&e}return e},F.b,F.a)),p._15(1,1097728,null,0,V.a,[[8,""],j.a,p.p,p.K],{color:[0,"color"],block:[1,"block"]},null),(l()(),p._40(2,0,["",""])),p._32(131072,G.a,[J.a,p.i])],function(l,n){l(n,1,0,"light","")},function(l,n){l(n,2,0,p._41(n,2,0,p._29(n,3).transform("core.login.reconnect")))})}function h(l){return p._42(0,[p._32(0,fl.a,[y.a,bl.a]),p._37(402653184,1,{content:0}),(l()(),p._16(2,0,null,null,20,"ion-header",[],null,null,null,null,null)),p._15(3,16384,null,0,vl.a,[j.a,p.p,p.K,[2,Cl.a]],null,null),(l()(),p._40(-1,null,["\n    "])),(l()(),p._16(5,0,null,null,16,"ion-navbar",[["class","toolbar"],["core-back-button",""]],[[8,"hidden",0],[2,"statusbar-padding",null]],null,null,xl.b,xl.a)),p._15(6,49152,null,0,yl.a,[Il.a,[2,Cl.a],[2,el.a],j.a,p.p,p.K],null,null),p._15(7,212992,null,0,wl.a,[yl.a,il.a,J.a,x.a],null,null),(l()(),p._40(-1,3,["\n        "])),(l()(),p._16(9,0,null,3,3,"ion-title",[],null,null,null,kl.b,kl.a)),p._15(10,49152,null,0,Pl.a,[j.a,p.p,p.K,[2,Tl.a],[2,yl.a]],null,null),(l()(),p._16(11,0,null,0,1,"core-format-text",[],null,null,null,null,null)),p._15(12,540672,null,0,al.a,[p.p,I.a,w.a,k.a,J.a,il.a,ul.a,sl.a,y.a,rl.a,C.a,cl.a,[2,el.a],[2,_l.a],[2,dl.a],gl.a,x.a],{text:[0,"text"]},null),(l()(),p._40(-1,3,["\n        "])),(l()(),p._16(14,0,null,2,6,"ion-buttons",[["end",""]],null,null,null,null,null)),p._15(15,16384,null,1,Ml.a,[j.a,p.p,p.K,[2,Tl.a],[2,yl.a]],null,null),p._37(603979776,2,{_buttons:1}),(l()(),p._40(-1,null,["\n            "])),(l()(),p._11(16777216,null,null,1,null,e)),p._15(19,16384,null,0,hl.k,[p.W,p.T],{ngIf:[0,"ngIf"]},null),(l()(),p._40(-1,null,["\n        "])),(l()(),p._40(-1,3,["\n    "])),(l()(),p._40(-1,null,["\n"])),(l()(),p._40(-1,null,["\n"])),(l()(),p._16(24,0,null,null,15,"ion-content",[["class","has-footer"]],[[2,"statusbar-padding",null],[2,"has-refresher",null]],null,null,Ul.b,Ul.a)),p._15(25,4374528,[[1,4]],0,_l.a,[j.a,il.a,Kl.a,p.p,p.K,Il.a,Dl.a,p.D,[2,Cl.a],[2,el.a]],null,null),(l()(),p._40(-1,1,["\n    "])),(l()(),p._16(27,0,null,1,11,"core-loading",[],null,null,null,Ol.b,Ol.a)),p._15(28,638976,null,0,Rl.a,[J.a,p.p,x.a,ul.a],{hideUntil:[0,"hideUntil"]},null),(l()(),p._40(-1,0,["\n        "])),(l()(),p._16(30,0,null,0,7,"div",[["aria-live","polite"]],null,null,null,null,null)),(l()(),p._40(-1,null,["\n            "])),(l()(),p._11(16777216,null,null,1,null,r)),p._15(33,802816,null,0,hl.j,[p.W,p.T,p.v],{ngForOf:[0,"ngForOf"]},null),(l()(),p._40(-1,null,["\n\n            "])),(l()(),p._11(16777216,null,null,1,null,c)),p._15(36,16384,null,0,hl.k,[p.W,p.T],{ngIf:[0,"ngIf"]},null),(l()(),p._40(-1,null,["\n        "])),(l()(),p._40(-1,0,["\n    "])),(l()(),p._40(-1,1,["\n"])),(l()(),p._40(-1,null,["\n"])),(l()(),p._16(41,0,null,null,15,"ion-footer",[["class","footer-adjustable"],["color","light"]],null,null,null,null,null)),p._15(42,16384,null,0,$l.a,[j.a,p.p,p.K,[2,Cl.a]],{color:[0,"color"]},null),(l()(),p._40(-1,null,["\n    "])),(l()(),p._16(44,0,null,null,11,"ion-toolbar",[["class","toolbar"],["color","light"],["position","bottom"]],[[2,"statusbar-padding",null]],null,null,zl.b,zl.a)),p._15(45,49152,null,0,Tl.a,[j.a,p.p,p.K],{color:[0,"color"]},null),(l()(),p._40(-1,3,["\n        "])),(l()(),p._11(16777216,null,3,1,null,_)),p._15(48,16384,null,0,hl.k,[p.W,p.T],{ngIf:[0,"ngIf"]},null),(l()(),p._40(-1,3,["\n        "])),(l()(),p._11(16777216,null,3,1,null,d)),p._15(51,16384,null,0,hl.k,[p.W,p.T],{ngIf:[0,"ngIf"]},null),(l()(),p._40(-1,3,["\n        "])),(l()(),p._11(16777216,null,3,1,null,g)),p._15(54,16384,null,0,hl.k,[p.W,p.T],{ngIf:[0,"ngIf"]},null),(l()(),p._40(-1,3,["\n    "])),(l()(),p._40(-1,null,["\n"])),(l()(),p._40(-1,null,["\n"]))],function(l,n){var t=n.component;l(n,7,0);l(n,12,0,t.title);l(n,19,0,t.loaded);l(n,28,0,t.loaded);l(n,33,0,t.messages);l(n,36,0,!t.messages||t.messages.length<=0);l(n,42,0,"light");l(n,45,0,"light");l(n,48,0,!t.isOnline);l(n,51,0,t.isOnline&&t.polling&&t.loaded);l(n,54,0,t.isOnline&&!t.polling&&t.loaded)},function(l,n){l(n,5,0,p._29(n,6)._hidden,p._29(n,6)._sbPadding);l(n,24,0,p._29(n,25).statusbarPadding,p._29(n,25)._hasRefresher);l(n,44,0,p._29(n,45)._sbPadding)})}Object.defineProperty(n,"__esModule",{value:!0});var p=t(1),m=(t(0),t(9),t(4)),f=t(29),b=t(30),v=t(106),C=t(10),x=t(13),y=t(6),I=t(2),w=t(5),k=t(11),P=t(344),T=t(190),M=t(14),U=function(){function l(l,n,t,e,u,o,a,i,s,r,c,_){var d=this;this.navCtrl=u,this.chatProvider=o,this.appProvider=a,this.modalCtrl=s,this.domUtils=r,this.textUtils=c,this.eventsProvider=_,this.loaded=!1,this.messages=[],this.lastTime=0,this.oldContentHeight=0,this.viewDestroyed=!1,this.pollingRunning=!1,this.chatId=l.get("chatId"),this.courseId=l.get("courseId"),this.title=l.get("title"),this.logger=n.getInstance("AddonModChoiceChoicePage"),this.currentUserBeep="beep "+i.getCurrentSiteUserId(),this.isOnline=this.appProvider.isOnline(),this.onlineObserver=t.onchange().subscribe(function(l){e.run(function(){d.isOnline=d.appProvider.isOnline()})})}return l.prototype.ionViewDidLoad=function(){var l=this;this.loginUser().then(function(){return l.fetchMessages().then(function(){l.startPolling()}).catch(function(n){l.domUtils.showErrorModalDefault(n,"addon.mod_chat.errorwhileretrievingmessages",!0),l.navCtrl.pop()})}).catch(function(n){l.domUtils.showErrorModalDefault(n,"addon.mod_chat.errorwhileconnecting",!0),l.navCtrl.pop()}).finally(function(){l.loaded=!0}),this.keyboardObserver=this.eventsProvider.on(x.a.KEYBOARD_CHANGE,function(n){l.content.resize()})},l.prototype.ionViewDidEnter=function(){this.startPolling()},l.prototype.ionViewWillLeave=function(){this.stopPolling()},l.prototype.showChatUsers=function(){var l=this,n=this.modalCtrl.create("AddonModChatUsersPage",{sessionId:this.sessionId});n.onDidDismiss(function(n){n&&n.talkTo&&(l.newMessage="To "+n.talkTo+": "),n&&n.beepTo&&l.sendMessage("",n.beepTo)}),n.present()},l.prototype.loginUser=function(){var l=this;return this.chatProvider.loginUser(this.chatId).then(function(n){l.sessionId=n})},l.prototype.fetchMessages=function(){var l=this;return this.chatProvider.getLatestMessages(this.sessionId,this.lastTime).then(function(n){return l.lastTime=n.chatnewlasttime||0,l.chatProvider.getMessagesUserData(n.messages,l.courseId).then(function(n){l.messages=l.messages.concat(n),n.length&&setTimeout(function(){return l.scrollToBottom()})})})},l.prototype.startPolling=function(){var l=this;this.polling||(this.polling=setInterval(function(){l.fetchMessagesInterval().catch(function(){})},P.a.POLL_INTERVAL))},l.prototype.stopPolling=function(){this.polling&&(this.logger.debug("Cancelling polling for messages"),clearInterval(this.polling))},l.prototype.fetchMessagesInterval=function(){var l=this;return this.logger.debug("Polling for messages"),!this.isOnline||this.pollingRunning?Promise.reject(null):(this.pollingRunning=!0,this.fetchMessages().catch(function(){return l.loginUser().then(function(){return l.fetchMessages()}).catch(function(n){return l.polling&&(clearInterval(l.polling),l.polling=void 0),l.domUtils.showErrorModalDefault(n,"addon.mod_chat.errorwhileretrievingmessages",!0),Promise.reject(null)})}).finally(function(){l.pollingRunning=!1}))},l.prototype.showDate=function(l,n){return!n||!M(1e3*l.timestamp).isSame(1e3*n.timestamp,"day")},l.prototype.sendMessage=function(l,n){var t=this;if(void 0===n&&(n=0),this.isOnline&&(0!==n||l.trim())){l=this.textUtils.replaceNewLines(l,"<br>");var e=this.domUtils.showModalLoading("core.sending",!0);this.chatProvider.sendMessage(this.sessionId,l,n).then(function(){t.fetchMessagesInterval().catch(function(){})}).catch(function(l){t.appProvider.closeKeyboard(),t.domUtils.showErrorModalDefault(l,"addon.mod_chat.errorwhilesendingmessage",!0)}).finally(function(){e.dismiss()})}},l.prototype.reconnect=function(){var l=this,n=this.domUtils.showModalLoading();return this.fetchMessagesInterval().then(function(){l.startPolling()}).catch(function(){}).finally(function(){n.dismiss()})},l.prototype.scrollToBottom=function(){var l=this;setTimeout(function(){l.viewDestroyed||l.domUtils.scrollToBottom(l.content,0)})},l.prototype.resizeContent=function(){var l=this,n=this.content.getContentDimensions().scrollTop;this.content.resize(),setTimeout(function(){!l.viewDestroyed&&l.content&&l.domUtils.getContentHeight(l.content)!=l.oldContentHeight&&(n||(n=l.content.getContentDimensions().scrollTop),n+=l.oldContentHeight-l.domUtils.getContentHeight(l.content),l.oldContentHeight=l.domUtils.getContentHeight(l.content),l.content.scrollTo(0,n,0))})},l.prototype.ngOnDestroy=function(){this.onlineObserver&&this.onlineObserver.unsubscribe(),this.keyboardObserver&&this.keyboardObserver.off(),this.stopPolling(),this.viewDestroyed=!0},l}(),K=function(){return function(){}}(),D=t(1345),O=t(1346),R=t(1347),$=t(1348),z=t(1349),L=t(1350),W=t(1351),E=t(1352),A=t(1353),B=t(1356),H=t(1357),S=t(1358),F=t(46),V=t(43),j=t(7),N=t(47),q=t(146),G=t(27),J=t(19),Y=t(31),Q=t(21),X=t(20),Z=t(28),ll=t(33),nl=t(222),tl=t(187),el=t(22),ul=t(3),ol=t(186),al=t(42),il=t(15),sl=t(26),rl=t(17),cl=t(18),_l=t(24),dl=t(35),gl=t(38),hl=t(8),pl=t(1965),ml=t(1370),fl=t(223),bl=t(25),vl=t(435),Cl=t(37),xl=t(1354),yl=t(200),Il=t(34),wl=t(663),kl=t(1355),Pl=t(337),Tl=t(247),Ml=t(436),Ul=t(185),Kl=t(32),Dl=t(107),Ol=t(49),Rl=t(48),$l=t(681),zl=t(1962),Ll=t(61),Wl=t(204),El=p._14({encapsulation:2,styles:[],data:{}}),Al=p._12("page-addon-mod-chat-chat",U,function(l){return p._42(0,[(l()(),p._16(0,0,null,null,1,"page-addon-mod-chat-chat",[],null,null,null,h,El)),p._15(1,180224,null,0,U,[Ll.a,y.a,T.a,p.D,el.a,P.a,C.a,I.a,Wl.a,w.a,k.a,x.a],null,null)],null,null)},{},{},[]),Bl=t(23),Hl=t(333),Sl=t(334),Fl=t(336),Vl=t(335),jl=t(434),Nl=t(662),ql=t(248);t.d(n,"AddonModChatChatPageModuleNgFactory",function(){return Gl});var Gl=p._13(K,[],function(l){return p._25([p._26(512,p.n,p._6,[[8,[D.a,O.a,R.a,$.a,z.a,L.a,W.a,E.a,A.a,B.a,H.a,S.a,Al]],[3,p.n],p.B]),p._26(4608,hl.m,hl.l,[p.x,[2,hl.v]]),p._26(4608,Bl.x,Bl.x,[]),p._26(4608,Bl.d,Bl.d,[]),p._26(4608,Hl.b,Hl.a,[]),p._26(4608,Sl.a,Sl.b,[]),p._26(4608,Fl.b,Fl.a,[]),p._26(4608,Vl.b,Vl.a,[]),p._26(4608,J.a,J.a,[jl.a,Hl.b,Sl.a,Fl.b,Vl.b,J.b,J.c]),p._26(512,hl.b,hl.b,[]),p._26(512,Bl.v,Bl.v,[]),p._26(512,Bl.i,Bl.i,[]),p._26(512,Bl.s,Bl.s,[]),p._26(512,Nl.a,Nl.a,[]),p._26(512,m.a,m.a,[]),p._26(512,b.a,b.a,[]),p._26(512,v.a,v.a,[]),p._26(512,f.a,f.a,[]),p._26(512,Nl.b,Nl.b,[]),p._26(512,K,K,[]),p._26(256,J.c,void 0,[]),p._26(256,J.b,void 0,[]),p._26(256,ql.a,U,[])])})},1962:function(l,n,t){"use strict";function e(l){return u._42(2,[(l()(),u._16(0,0,null,null,1,"div",[["class","toolbar-background"]],null,null,null,null,null)),u._15(1,278528,null,0,o.i,[u.v,u.w,u.p,u.L],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),u._28(null,0),u._28(null,1),u._28(null,2),(l()(),u._16(5,0,null,null,2,"div",[["class","toolbar-content"]],null,null,null,null,null)),u._15(6,278528,null,0,o.i,[u.v,u.w,u.p,u.L],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),u._28(null,3)],function(l,n){var t=n.component;l(n,1,0,"toolbar-background","toolbar-background-"+t._mode);l(n,6,0,"toolbar-content","toolbar-content-"+t._mode)},null)}t.d(n,"a",function(){return a}),n.b=e;var u=t(1),o=t(8),a=(t(7),u._14({encapsulation:2,styles:[],data:{}}))},1965:function(l,n,t){"use strict";function e(l){return u._42(0,[(l()(),u._16(0,0,null,null,28,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(l,n,t){var e=!0;if("submit"===n){e=!1!==u._29(l,2).onSubmit(t)&&e}if("reset"===n){e=!1!==u._29(l,2).onReset()&&e}return e},null,null)),u._15(1,16384,null,0,o.w,[],null,null),u._15(2,4210688,null,0,o.p,[[8,null],[8,null]],null,null),u._35(2048,null,o.b,null,[o.p]),u._15(4,16384,null,0,o.o,[o.b],null,null),(l()(),u._40(-1,null,["\n    "])),(l()(),u._16(6,0,null,null,7,"textarea",[["class","core-send-message-input"],["core-auto-rows",""],["name","message"],["rows","1"]],[[8,"placeholder",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"onResize"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(l,n,t){var e=!0,o=l.component;if("input"===n){e=!1!==u._29(l,7)._handleInput(t.target.value)&&e}if("blur"===n){e=!1!==u._29(l,7).onTouched()&&e}if("compositionstart"===n){e=!1!==u._29(l,7)._compositionStart()&&e}if("compositionend"===n){e=!1!==u._29(l,7)._compositionEnd(t.target.value)&&e}if("input"===n){e=!1!==u._29(l,13).onInput()&&e}if("change"===n){e=!1!==u._29(l,13).onChange()&&e}if("ngModelChange"===n){e=!1!==(o.message=t)&&e}if("onResize"===n){e=!1!==o.textareaResized()&&e}return e},null,null)),u._15(7,16384,null,0,o.c,[u.L,u.p,[2,o.a]],null,null),u._35(1024,null,o.l,function(l){return[l]},[o.c]),u._15(9,671744,null,0,o.q,[[2,o.b],[8,null],[8,null],[2,o.l]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),u._35(2048,null,o.m,null,[o.q]),u._15(11,16384,null,0,o.n,[o.m],null,null),u._15(12,81920,null,0,a.a,[u.p,i.a,s.a,[2,r.a]],{coreAutoFocus:[0,"coreAutoFocus"]},null),u._15(13,4210688,null,0,c.a,[u.p],null,{onResize:"onResize"}),(l()(),u._40(-1,null,["\n    "])),(l()(),u._16(15,0,null,null,12,"ion-buttons",[["end",""]],null,null,null,null,null)),u._15(16,16384,null,1,_.a,[d.a,u.p,u.K,[2,g.a],[2,h.a]],null,null),u._37(603979776,1,{_buttons:1}),(l()(),u._40(-1,null,["\n        "])),(l()(),u._16(19,0,null,null,7,"button",[["clear","true"],["icon-only",""],["ion-button",""],["type","submit"]],[[8,"disabled",0],[1,"aria-label",0]],[[null,"onClick"]],function(l,n,t){var e=!0;if("onClick"===n){e=!1!==l.component.submitForm(t)&&e}return e},p.b,p.a)),u._15(20,1097728,[[1,4]],0,m.a,[[8,""],d.a,u.p,u.K],{clear:[0,"clear"]},null),u._15(21,81920,null,0,f.a,[u.p],null,{onClick:"onClick"}),u._32(131072,b.a,[v.a,u.i]),(l()(),u._40(-1,0,["\n            "])),(l()(),u._16(24,0,null,0,1,"ion-icon",[["color","dark"],["name","send"],["role","img"]],[[2,"hide",null]],null,null,null,null)),u._15(25,147456,null,0,C.a,[d.a,u.p,u.K],{color:[0,"color"],name:[1,"name"]},null),(l()(),u._40(-1,0,["\n        "])),(l()(),u._40(-1,null,["\n    "])),(l()(),u._40(-1,null,["\n"])),(l()(),u._40(-1,null,["\n"]))],function(l,n){var t=n.component;l(n,9,0,"message",t.message);l(n,12,0,t.showKeyboard);l(n,20,0,"true"),l(n,21,0);l(n,25,0,"dark","send")},function(l,n){var t=n.component;l(n,0,0,u._29(n,4).ngClassUntouched,u._29(n,4).ngClassTouched,u._29(n,4).ngClassPristine,u._29(n,4).ngClassDirty,u._29(n,4).ngClassValid,u._29(n,4).ngClassInvalid,u._29(n,4).ngClassPending);l(n,6,0,t.placeholder,u._29(n,11).ngClassUntouched,u._29(n,11).ngClassTouched,u._29(n,11).ngClassPristine,u._29(n,11).ngClassDirty,u._29(n,11).ngClassValid,u._29(n,11).ngClassInvalid,u._29(n,11).ngClassPending);l(n,19,0,!t.message,u._41(n,19,1,u._29(n,22).transform("core.send")));l(n,24,0,u._29(n,25)._hidden)})}t.d(n,"a",function(){return x}),n.b=e;var u=t(1),o=t(23),a=t(340),i=t(5),s=t(3),r=t(22),c=t(349),_=t(436),d=t(7),g=t(247),h=t(200),p=t(46),m=t(43),f=t(352),b=t(27),v=t(19),C=t(47),x=(t(11),u._14({encapsulation:2,styles:[],data:{}}))}});