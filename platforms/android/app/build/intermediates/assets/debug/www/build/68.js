webpackJsonp([68],{1902:function(l,n,u){"use strict";function a(l){return e._42(0,[(l()(),e._16(0,0,null,null,25,"ion-header",[],null,null,null,null,null)),e._15(1,16384,null,0,y.a,[k.a,e.p,e.K,[2,P.a]],null,null),(l()(),e._40(-1,null,["\n    "])),(l()(),e._16(3,0,null,null,21,"ion-navbar",[["class","toolbar"],["core-back-button",""]],[[8,"hidden",0],[2,"statusbar-padding",null]],null,null,K.b,K.a)),e._15(4,49152,null,0,M.a,[q.a,[2,P.a],[2,w.a],k.a,e.p,e.K],null,null),e._15(5,212992,null,0,x.a,[M.a,S.a,I.a,U.a],null,null),(l()(),e._40(-1,3,["\n        "])),(l()(),e._16(7,0,null,3,3,"ion-title",[],null,null,null,D.b,D.a)),e._15(8,49152,null,0,N.a,[k.a,e.p,e.K,[2,T.a],[2,M.a]],null,null),(l()(),e._40(9,0,["",""])),e._32(131072,A.a,[I.a,e.i]),(l()(),e._40(-1,3,["\n        "])),(l()(),e._16(12,0,null,2,11,"ion-buttons",[["end",""]],null,null,null,null,null)),e._15(13,16384,null,1,L.a,[k.a,e.p,e.K,[2,T.a],[2,M.a]],null,null),e._37(603979776,1,{_buttons:1}),(l()(),e._40(-1,null,["\n            "])),(l()(),e._16(16,0,null,null,6,"button",[["icon-only",""],["ion-button",""]],[[1,"aria-label",0]],[[null,"click"]],function(l,n,u){var a=!0;if("click"===n){a=!1!==l.component.closeModal()&&a}return a},V.b,V.a)),e._15(17,1097728,[[1,4]],0,E.a,[[8,""],k.a,e.p,e.K],null,null),e._32(131072,A.a,[I.a,e.i]),(l()(),e._40(-1,0,["\n                "])),(l()(),e._16(20,0,null,0,1,"ion-icon",[["name","close"],["role","img"]],[[2,"hide",null]],null,null,null,null)),e._15(21,147456,null,0,R.a,[k.a,e.p,e.K],{name:[0,"name"]},null),(l()(),e._40(-1,0,["\n            "])),(l()(),e._40(-1,null,["\n        "])),(l()(),e._40(-1,3,["\n    "])),(l()(),e._40(-1,null,["\n"])),(l()(),e._40(-1,null,["\n"])),(l()(),e._16(27,0,null,null,68,"ion-content",[["padding",""]],[[2,"statusbar-padding",null],[2,"has-refresher",null]],null,null,j.b,j.a)),e._15(28,4374528,null,0,B.a,[k.a,S.a,F.a,e.p,e.K,q.a,J.a,e.D,[2,P.a],[2,w.a]],null,null),(l()(),e._40(-1,1,["\n    "])),(l()(),e._16(30,0,null,1,64,"form",[["name","itemEdit"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(l,n,u){var a=!0,t=l.component;if("submit"===n){a=!1!==e._29(l,32).onSubmit(u)&&a}if("reset"===n){a=!1!==e._29(l,32).onReset()&&a}if("ngSubmit"===n){a=!1!==t.addNote(u)&&a}return a},null,null)),e._15(31,16384,null,0,O.w,[],null,null),e._15(32,4210688,null,0,O.p,[[8,null],[8,null]],null,{ngSubmit:"ngSubmit"}),e._35(2048,null,O.b,null,[O.p]),e._15(34,16384,null,0,O.o,[O.b],null,null),(l()(),e._40(-1,null,["\n        "])),(l()(),e._16(36,0,null,null,35,"ion-item",[["class","item item-block"]],null,null,null,z.b,z.a)),e._15(37,1097728,null,3,G.a,[H.a,k.a,e.p,e.K,[2,Q.a]],null,null),e._37(335544320,2,{contentLabel:0}),e._37(603979776,3,{_buttons:1}),e._37(603979776,4,{_icons:1}),e._15(41,16384,null,0,W.a,[],null,null),(l()(),e._40(-1,2,["\n            "])),(l()(),e._16(43,0,null,1,3,"ion-label",[],null,null,null,null,null)),e._15(44,16384,[[2,4]],0,X.a,[k.a,e.p,e.K,[8,null],[8,null],[8,null],[8,null]],null,null),(l()(),e._40(45,null,["",""])),e._32(131072,A.a,[I.a,e.i]),(l()(),e._40(-1,2,["\n            "])),(l()(),e._16(48,0,null,3,22,"ion-select",[["interface","popover"],["name","publishState"]],[[2,"select-disabled",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"click"],[null,"keyup.space"]],function(l,n,u){var a=!0,t=l.component;if("click"===n){a=!1!==e._29(l,49)._click(u)&&a}if("keyup.space"===n){a=!1!==e._29(l,49)._keyup()&&a}if("ngModelChange"===n){a=!1!==(t.publishState=u)&&a}return a},Y.b,Y.a)),e._15(49,1228800,null,1,Z.a,[q.a,H.a,k.a,e.p,e.K,[2,G.a],$.a],{interface:[0,"interface"]},null),e._37(603979776,5,{options:1}),e._35(1024,null,O.l,function(l){return[l]},[Z.a]),e._15(52,671744,null,0,O.q,[[2,O.b],[8,null],[8,null],[2,O.l]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),e._35(2048,null,O.m,null,[O.q]),e._15(54,16384,null,0,O.n,[O.m],null,null),(l()(),e._40(-1,null,["\n                "])),(l()(),e._16(56,0,null,null,3,"ion-option",[["value","personal"]],null,null,null,null,null)),e._15(57,16384,[[5,4]],0,ll.a,[e.p],{value:[0,"value"]},null),(l()(),e._40(58,null,["",""])),e._32(131072,A.a,[I.a,e.i]),(l()(),e._40(-1,null,["\n                "])),(l()(),e._16(61,0,null,null,3,"ion-option",[["value","course"]],null,null,null,null,null)),e._15(62,16384,[[5,4]],0,ll.a,[e.p],{value:[0,"value"]},null),(l()(),e._40(63,null,["",""])),e._32(131072,A.a,[I.a,e.i]),(l()(),e._40(-1,null,["\n                "])),(l()(),e._16(66,0,null,null,3,"ion-option",[["value","site"]],null,null,null,null,null)),e._15(67,16384,[[5,4]],0,ll.a,[e.p],{value:[0,"value"]},null),(l()(),e._40(68,null,["",""])),e._32(131072,A.a,[I.a,e.i]),(l()(),e._40(-1,null,["\n            "])),(l()(),e._40(-1,2,["\n        "])),(l()(),e._40(-1,null,["\n        "])),(l()(),e._16(73,0,null,null,15,"ion-item",[["class","item item-block"]],null,null,null,z.b,z.a)),e._15(74,1097728,null,3,G.a,[H.a,k.a,e.p,e.K,[2,Q.a]],null,null),e._37(335544320,6,{contentLabel:0}),e._37(603979776,7,{_buttons:1}),e._37(603979776,8,{_icons:1}),e._15(78,16384,null,0,W.a,[],null,null),(l()(),e._40(-1,2,["\n            "])),(l()(),e._16(80,0,null,3,7,"ion-textarea",[["name","text"],["required","required"],["rows","5"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],function(l,n,u){var a=!0;if("ngModelChange"===n){a=!1!==(l.component.text=u)&&a}return a},nl.b,nl.a)),e._15(81,16384,null,0,O.t,[],{required:[0,"required"]},null),e._35(1024,null,O.k,function(l){return[l]},[O.t]),e._15(83,671744,null,0,O.q,[[2,O.b],[2,O.k],[8,null],[8,null]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),e._35(2048,null,O.m,null,[O.q]),e._15(85,16384,null,0,O.n,[O.m],null,null),e._15(86,5423104,null,0,ul.a,[k.a,S.a,H.a,q.a,e.p,e.K,[2,B.a],[2,G.a],[2,O.m],F.a],{placeholder:[0,"placeholder"]},null),e._32(131072,A.a,[I.a,e.i]),(l()(),e._40(-1,2,["\n        "])),(l()(),e._40(-1,null,["\n        "])),(l()(),e._16(90,0,null,null,3,"button",[["block",""],["ion-button",""],["margin-vertical",""],["type","submit"]],[[8,"disabled",0]],null,null,V.b,V.a)),e._15(91,1097728,null,0,E.a,[[8,""],k.a,e.p,e.K],{block:[0,"block"]},null),(l()(),e._40(92,0,["\n            ","\n        "])),e._32(131072,A.a,[I.a,e.i]),(l()(),e._40(-1,null,["\n    "])),(l()(),e._40(-1,1,["\n"])),(l()(),e._40(-1,null,["\n"]))],function(l,n){var u=n.component;l(n,5,0);l(n,21,0,"close");l(n,49,0,"popover");l(n,52,0,"publishState",u.publishState);l(n,57,0,"personal");l(n,62,0,"course");l(n,67,0,"site");l(n,81,0,"required");l(n,83,0,"text",u.text);l(n,86,0,e._19(1,"",e._41(n,86,0,e._29(n,87).transform("addon.notes.note")),""));l(n,91,0,"")},function(l,n){var u=n.component;l(n,3,0,e._29(n,4)._hidden,e._29(n,4)._sbPadding);l(n,9,0,e._41(n,9,0,e._29(n,10).transform("addon.notes.addnewnote")));l(n,16,0,e._41(n,16,0,e._29(n,18).transform("core.close")));l(n,20,0,e._29(n,21)._hidden);l(n,27,0,e._29(n,28).statusbarPadding,e._29(n,28)._hasRefresher);l(n,30,0,e._29(n,34).ngClassUntouched,e._29(n,34).ngClassTouched,e._29(n,34).ngClassPristine,e._29(n,34).ngClassDirty,e._29(n,34).ngClassValid,e._29(n,34).ngClassInvalid,e._29(n,34).ngClassPending);l(n,45,0,e._41(n,45,0,e._29(n,46).transform("addon.notes.publishstate")));l(n,48,0,e._29(n,49)._disabled,e._29(n,54).ngClassUntouched,e._29(n,54).ngClassTouched,e._29(n,54).ngClassPristine,e._29(n,54).ngClassDirty,e._29(n,54).ngClassValid,e._29(n,54).ngClassInvalid,e._29(n,54).ngClassPending);l(n,58,0,e._41(n,58,0,e._29(n,59).transform("addon.notes.personalnotes")));l(n,63,0,e._41(n,63,0,e._29(n,64).transform("addon.notes.coursenotes")));l(n,68,0,e._41(n,68,0,e._29(n,69).transform("addon.notes.sitenotes")));l(n,80,0,e._29(n,81).required?"":null,e._29(n,85).ngClassUntouched,e._29(n,85).ngClassTouched,e._29(n,85).ngClassPristine,e._29(n,85).ngClassDirty,e._29(n,85).ngClassValid,e._29(n,85).ngClassInvalid,e._29(n,85).ngClassPending);l(n,90,0,u.processing||u.text.length<2);l(n,92,0,e._41(n,92,0,e._29(n,93).transform("addon.notes.addnewnote")))})}Object.defineProperty(n,"__esModule",{value:!0});var e=u(1),t=(u(0),u(9),u(10)),o=u(5),i=u(233),s=function(){function l(l,n,u,a,e){this.viewCtrl=n,this.appProvider=u,this.domUtils=a,this.notesProvider=e,this.publishState="personal",this.text="",this.processing=!1,this.userId=l.get("userId"),this.courseId=l.get("courseId")}return l.prototype.addNote=function(l){var n=this;l.preventDefault(),l.stopPropagation(),this.appProvider.closeKeyboard();var u=this.domUtils.showModalLoading("core.sending",!0);this.processing=!0,this.notesProvider.addNote(this.userId,this.courseId,this.publishState,this.text).then(function(l){n.viewCtrl.dismiss().finally(function(){n.domUtils.showAlertTranslated("core.success",l?"addon.notes.eventnotecreated":"core.datastoredoffline")})}).catch(function(l){n.domUtils.showErrorModal(l),n.processing=!1}).finally(function(){u.dismiss()})},l.prototype.closeModal=function(){this.viewCtrl.dismiss()},l}(),_=u(4),d=u(30),r=function(){return function(){}}(),c=u(1345),g=u(1346),p=u(1347),b=u(1348),h=u(1349),m=u(1350),f=u(1351),v=u(1352),C=u(1353),y=u(435),k=u(7),P=u(37),K=u(1354),M=u(200),q=u(34),w=u(22),x=u(663),S=u(15),I=u(19),U=u(13),D=u(1355),N=u(337),T=u(247),A=u(27),L=u(436),V=u(46),E=u(43),R=u(47),j=u(185),B=u(24),F=u(32),J=u(107),O=u(23),z=u(31),G=u(21),H=u(20),Q=u(28),W=u(33),X=u(62),Y=u(111),Z=u(93),$=u(52),ll=u(92),nl=u(94),ul=u(79),al=u(61),el=e._14({encapsulation:2,styles:[],data:{}}),tl=e._12("page-addon-notes-add",s,function(l){return e._42(0,[(l()(),e._16(0,0,null,null,1,"page-addon-notes-add",[],null,null,null,a,el)),e._15(1,49152,null,0,s,[al.a,P.a,t.a,o.a,i.a],null,null)],null,null)},{},{},[]),ol=u(8),il=u(333),sl=u(334),_l=u(336),dl=u(335),rl=u(434),cl=u(662),gl=u(248);u.d(n,"AddonNotesAddPageModuleNgFactory",function(){return pl});var pl=e._13(r,[],function(l){return e._25([e._26(512,e.n,e._6,[[8,[c.a,g.a,p.a,b.a,h.a,m.a,f.a,v.a,C.a,tl]],[3,e.n],e.B]),e._26(4608,ol.m,ol.l,[e.x,[2,ol.v]]),e._26(4608,O.x,O.x,[]),e._26(4608,O.d,O.d,[]),e._26(4608,il.b,il.a,[]),e._26(4608,sl.a,sl.b,[]),e._26(4608,_l.b,_l.a,[]),e._26(4608,dl.b,dl.a,[]),e._26(4608,I.a,I.a,[rl.a,il.b,sl.a,_l.b,dl.b,I.b,I.c]),e._26(512,d.a,d.a,[]),e._26(512,ol.b,ol.b,[]),e._26(512,O.v,O.v,[]),e._26(512,O.i,O.i,[]),e._26(512,O.s,O.s,[]),e._26(512,cl.a,cl.a,[]),e._26(512,cl.b,cl.b,[]),e._26(512,_.a,_.a,[]),e._26(512,r,r,[]),e._26(256,gl.a,s,[]),e._26(256,I.c,void 0,[]),e._26(256,I.b,void 0,[])])})}});